@page "/customers"


<h3>Customers</h3>

<PageTitle>Customers</PageTitle>


<EditForm class="mt-3" OnValidSubmit="Save" Model="model" EditContext="@editContext">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="card card-body">
        <div class="row">
            <div class="col-12 col-md-6 col-lg-3 m-2">
                <InputText @bind-Value=model.FirstName class="form-control" placeholder="FirstName" />
            </div>
            <div class="col-12 col-md-6 col-lg-3 m-2">
                <InputText @bind-Value=model.Lastname class="form-control" placeholder="Lastname" />

            </div>
            <div class="col-12 col-md-6 col-lg-3 m-2">
                <InputText @bind-Value=model.PhoneNumber class="form-control" placeholder="PhoneNumber" />

            </div>
            <div class="col-12 col-md-6 col-lg-3 m-2">
                <InputText @bind-Value=model.Email class="form-control" placeholder="Email" />

            </div>
            <div class="col-12 col-md-6 col-lg-3 m-2">
                <InputText @bind-Value=model.BankAccountNumber class="form-control" id="BankAccountNumber" placeholder="0000-0000-0000-0000" />
            </div>
            <div class="col-12 col-md-6 col-lg-3 m-2">
                <InputDate @bind-Value=model.DateOfBirth class="form-control" placeholder="DateOfBirth" />
            </div>
        </div>
        <div class="d-flex m-2">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </div>
</EditForm>


@code {
    public CustomerSharedModel model = new() { };
    private EditContext? editContext { set; get; }
    private PaginatedSummary<CustomerSharedSummary>? _data;


    protected override async Task OnInitializedAsync()
    {
    }


    public async Task Save()
    {
        var response = await _http.PostAsJsonAsync<CustomerSharedModel>("Customer", model);
    }
}
